// Style reset & basics
body { border: none; margin: 0; padding: 0; font-family: "Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif; overflow: hidden; }
h1, h2, h3, h4, h5, h6 { margin: 30px 0 15px 0; padding: 0; }
h1 + h2, h1 + h3, h1 + h4, h1 + h5, h1 + h6,
h2 + h3, h2 + h4, h2 + h5, h2 + h6,
h3 + h4, h3 + h5, h3 + h6,
h4 + h5, h4 + h6,
h5 + h6 { margin-top: 0; }
p, blockquote, pre, hr, dl, dd, ol, ul, figure { margin: 0; padding: 0; }
p + p { margin-top: .751em; }
blockquote, pre, ul, ol, dl, figure, .highlight { margin-top: 10px; margin-bottom: 10px; }
img { max-width: 100%; vertical-align: middle; }
figure > img { display: block; }
ul, ol { margin-left: 30px; }
li > ul, li > ol { margin-top: 0; margin-bottom: 0; }





// Light/Dark theme setting and mixins
$bgColor: ( 'dark': #191919, 'light': #fff );
$textColor: ( 'dark': #fff, 'light': #000 );
$textColorLight: ( 'dark': #ccc, 'light': #666 );
$menuBackgroundColor: ( 'dark': #333, 'light': #eee );
$menuBorderColor: ( 'dark': #494949, 'light': #eee );
$linkColor: ( 'dark': #0bf, 'light': #039 );
$accentColor: ( 'dark': #0bf, 'light': #039 );
$buttonHoverColor: ( 'dark': rgba(255, 255, 255, .1), 'light': rgba(0, 0, 0, .1) );
$buttonActiveColor: ( 'dark': rgba(255, 255, 255, .13), 'light': rgba(0, 0, 0, .13) );


$tabletWidth: 800px;

@mixin aboveTablet {
	@media all and (min-width: $tabletWidth), print {
		@content;
	}
}
@mixin belowTablet {
	@media not all and (min-width: $tabletWidth) {
		@content;
	}
}

@mixin padding {
	padding: 20px;
	@include belowTablet { padding: 10px; }
}
@mixin hPadding {
	padding-left: 20px; padding-right: 20px;
	@include belowTablet { padding-left: 10px; padding-right: 10px; }
}





// Common light/dark styles
@mixin lightPreset {
	body { background: map-get($bgColor, 'light'); color: map-get($textColor, 'light'); }
	a { color: map-get($linkColor, 'light'); }
}
@mixin darkPreset {
	body { background: map-get($bgColor, 'dark'); color: map-get($textColor, 'dark'); }
	a { color: map-get($linkColor, 'dark'); }
}
html { @include lightPreset; }
.dark { @include darkPreset; }
@media (prefers-color-scheme: dark) {
	html { @include darkPreset; }
	.light { @include lightPreset; }
}

@mixin themeMaps($values) {
	html & { @each $property, $value in $values { #{$property}: map-get($value, 'light'); } }
	.dark & { @each $property, $value in $values { #{$property}: map-get($value, 'dark'); } }
	@media (prefers-color-scheme: dark) {
		html & { @each $property, $value in $values { #{$property}: map-get($value, 'dark'); } }
		.light & { @each $property, $value in $values { #{$property}: map-get($value, 'light'); } }
	}
}
@mixin themeMap($property, $value) {
	html & { #{$property}: map-get($value, 'light'); }
	.dark & { #{$property}: map-get($value, 'dark'); }
	@media (prefers-color-scheme: dark) {
		html & { #{$property}: map-get($value, 'dark'); }
		.light & { #{$property}: map-get($value, 'light'); }
	}
}




.adminRoot { width: 100vw; height: 100vh; }

.mainNavGrid { display: flex; width: 100vw; height: 100vh;
	> .sideBarNav { flex: 0 0 50px; border-right: 1px solid; box-sizing: content-box;
		.sideBar { display: flex; flex-direction: column; justify-content: space-between; height: 100%;
			.workspaces { flex: 1 1 100%; overflow: auto; scrollbar-width: none;
				&::-webkit-scrollbar { display: none; }
			}
			.system { flex: 0 0 auto; border-top: 1px solid; }
		}
		.sideBarItem {
			.icon { margin-right: 0; }
			.name { display: none; }
		}
	}
	> .mainNav {
		flex: 0 0 250px;
		border-right: 1px solid;
		box-sizing: content-box;
		@include themeMap("background", $menuBackgroundColor);
		.loadingSpinner { padding: 20px 0; }
		> [role="toolbar"] { display: flex; height: 100%; width: 100%; flex-direction: column;
			> [role="tablist"] { flex: 0 0 auto;
				button:hover { @include themeMaps(("color": $accentColor, "background": $buttonHoverColor)); }
				button:active { @include themeMap("background", $buttonActiveColor); }
			}
			> [role="tabpanel"] { flex: 1 1 100%; overflow: auto; width: 250px;
				/*a { white-space: normal; line-height: inherit; height: auto; }*/
			}
			.is-selected > button { background: transparent;
				&::after { display: none; }
			}
			[role="listitem"] .is-selected a {
				@include themeMap("background", $buttonHoverColor);
			}
			[role="listitem"] button, [role="listitem"] a {
				&:hover { @include themeMap("background", $buttonHoverColor); }
				&:active { @include themeMap("background", $buttonActiveColor); }
			}
		}
	}
	> .sideBarNav, .mainNav, > .sideBarNav .sideBar .system {
		@include themeMap("border-color", $menuBorderColor);
	}
	> .mainNavGridContent { flex: 1 1 100%; }
}


.sideBarItem {
	a { display: flex; align-items: center; padding: 10px; color: inherit; text-decoration: none; position: relative;
		&:hover { @include themeMaps(("color": $accentColor, "background": $buttonHoverColor)); }
		&:active { @include themeMap("background", $buttonActiveColor); }
	}
	.icon { display: inline-block; flex: 0 0 30px; width: 30px; height: 30px; font-size: 20px; line-height: 30px; text-align: center; overflow: hidden; font-weight: bold; margin-right: 10px; }
	.name { display: inline-block; flex: 1 1 100%; font-size: 14px; }
	a:before {
		content: ""; display: block; position: absolute; top: 10px; bottom: 10px; left: 0; border-left: 3px solid transparent;
		transition: top 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s, bottom 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s;
	}
	&.selected a:before { @include themeMap("border-color", $accentColor); }
	&.selected a:hover:before { top: 0; bottom: 0; }
}




.pageGrid { width: 100%; height: 100%; overflow: hidden; display: flex; flex-direction: column;
	.pageTitle { flex: 0 0 auto; padding: 0 10px 10px 10px; width: 100%; }
	.pageCommands { flex: 0 0 auto; width: 100%; }
	.pageContent { flex: 1 1 100%; overflow: auto; }
	.pageTitle + .pageContent, .pageCommands + .pageContent { border-top: 1px solid; @include themeMap("border-color", $menuBorderColor); }
}

